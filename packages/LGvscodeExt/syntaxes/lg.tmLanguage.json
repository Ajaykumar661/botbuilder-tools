{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "LG",
	"patterns": [
		{"include": "#strings"},
		{"include": "#templateDefinition"},
		{"include": "#comments"},
		{"include": "#imports"}
	],
	"repository": {
		"comments": {
			"patterns": [{
			"name": "comment.line.keywords",
			"match": "^\\s*>.*?\n$"
			}]
		},
		"imports": {
			"captures": {
				"1": {
					"name": "string.other.link.title.lg"
				},
				"2": {
					"name": "markup.underline.link.lg"
				}
			},
			"match": "\\[([\\w\\W]+?)\\]\\(([\\w\\W]+?)\\)",
			"name": "meta.link.reference.def.lg"
		},
		"strings": {
			"name": "string.quoted.double.strings",
			"begin": "\"",
			"end": "\"",
			"patterns": [
				{
					"name": "constant.character.escape.strings",
					"match": "\\\\."
				}
			]
		},
		"templateDefinition": {
			"patterns": [
				{"include": "#templateNameLine"},
				{"include": "#templateBody"}
			],
			"repository":{
				"templateNameLine": {
					"name": "markup.bold.templateNameLine",
					"begin":"#",
					"end":"\n",
					"patterns": [
					{
						"name": "entity.name.function.functionName",
						"match": "(?<=#).*?(?=\\(|\n)"
					},
					{
						"name": "variable.parameter.parameters",
						"match": "(?<=\\().*?(?=\\))"
					}]
				},
				"templateBody": {
					"begin":"-",
					"end":"\n",
					"patterns": [
					{
						"name": "variable.other.templateRef",
						"match": "\\[.*?(\\(.*?(\\[.+\\])?\\))?\\]"
					},
					{
						"name": "entity.name.function.expression",
						"match": "(?<=\\{).*?(?=\\})"
					},
					{
						"name": "keyword.control.keyword",
						"match": "(?i)\\b(IF|ELSE|ELSEIF|SWITCH|CASE|DEFAULT)\\b"
					},
					{
						"begin":"```",
						"end":"```",
						"patterns": [
						{
							"name": "entity.name.function.expression",
							"match": "(?<=@\\{).*?(?=\\})"
						},
						{
							"name": "string.quoted.double.strings",
							"begin": "\"",
							"end": "\"",
							"patterns": [
								{
									"name": "constant.character.escape.strings",
									"match": "\\\\."
								}
								]
							}]
					}]
				}
			}
		}
	},
	"scopeName": "source.lg"
}